{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nvar e,\n    n,\n    t = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {};\n\nfunction r(e, n) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var r = Object.getOwnPropertySymbols(e);\n    n && (r = r.filter(function (n) {\n      return Object.getOwnPropertyDescriptor(e, n).enumerable;\n    })), t.push.apply(t, r);\n  }\n\n  return t;\n}\n\nfunction o(e) {\n  for (var n = 1; n < arguments.length; n++) {\n    var t = null != arguments[n] ? arguments[n] : {};\n    n % 2 ? r(Object(t), !0).forEach(function (n) {\n      a(e, n, t[n]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : r(Object(t)).forEach(function (n) {\n      Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(t, n));\n    });\n  }\n\n  return e;\n}\n\nfunction a(e, n, t) {\n  return n in e ? Object.defineProperty(e, n, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[n] = t, e;\n}\n\nfunction i(e) {\n  return (i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  })(e);\n}\n\n(function (e, n) {\n  var r;\n  r = t, e.exports = function (e) {\n    if (e.CSS && e.CSS.escape) return e.CSS.escape;\n\n    var n = function (e) {\n      if (0 == arguments.length) throw new TypeError(\"`CSS.escape` requires an argument.\");\n\n      for (var n, t = String(e), r = t.length, o = -1, a = \"\", i = t.charCodeAt(0); ++o < r;) 0 != (n = t.charCodeAt(o)) ? a += n >= 1 && n <= 31 || 127 == n || 0 == o && n >= 48 && n <= 57 || 1 == o && n >= 48 && n <= 57 && 45 == i ? \"\\\\\" + n.toString(16) + \" \" : 0 == o && 1 == r && 45 == n || !(n >= 128 || 45 == n || 95 == n || n >= 48 && n <= 57 || n >= 65 && n <= 90 || n >= 97 && n <= 122) ? \"\\\\\" + t.charAt(o) : t.charAt(o) : a += \"�\";\n\n      return a;\n    };\n\n    return e.CSS || (e.CSS = {}), e.CSS.escape = n, n;\n  }(r);\n})(n = {\n  path: e,\n  exports: {},\n  require: function (e, t) {\n    return function () {\n      throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\");\n    }(null == t && n.path);\n  }\n}, n.exports), n.exports;\nvar p = {\n  appOptions: null,\n  template: null,\n  Vue: null,\n  createApp: null,\n  handleInstance: null\n};\n\nfunction u(e) {\n  if (\"object\" !== i(e)) throw new Error(\"single-spa-vue requires a configuration object\");\n  var n = o(o({}, p), e);\n  if (!n.Vue && !n.createApp) throw Error(\"single-spa-vue must be passed opts.Vue or opts.createApp\");\n  if (!n.appOptions) throw Error(\"single-spa-vue must be passed opts.appOptions\");\n  if (n.appOptions.el && \"string\" != typeof n.appOptions.el && !(n.appOptions.el instanceof HTMLElement)) throw Error(\"single-spa-vue: appOptions.el must be a string CSS selector, an HTMLElement, or not provided at all. Was given \".concat(i(n.appOptions.el)));\n  n.createApp = n.createApp || n.Vue && n.Vue.createApp;\n  var t = {};\n  return {\n    bootstrap: c.bind(null, n, t),\n    mount: l.bind(null, n, t),\n    unmount: f.bind(null, n, t),\n    update: s.bind(null, n, t)\n  };\n}\n\nfunction c(e) {\n  return e.loadRootComponent ? e.loadRootComponent().then(function (n) {\n    return e.rootComponent = n;\n  }) : Promise.resolve();\n}\n\nfunction l(e, n, t) {\n  var r = {};\n  return Promise.resolve().then(function () {\n    return function (e, n) {\n      return \"function\" == typeof e.appOptions ? e.appOptions(n) : Promise.resolve(o({}, e.appOptions));\n    }(e, t).then(function (a) {\n      var i;\n      if (t.domElement && !a.el && (a.el = t.domElement), a.el) {\n        if (\"string\" == typeof a.el) {\n          if (!(i = document.querySelector(a.el))) throw Error(\"If appOptions.el is provided to single-spa-vue, the dom element must exist in the dom. Was provided as \".concat(a.el));\n        } else (i = a.el).id || (i.id = \"single-spa-application:\".concat(t.name)), a.el = \"#\".concat(CSS.escape(i.id));\n      } else {\n        var p = \"single-spa-application:\".concat(t.name);\n        a.el = \"#\".concat(CSS.escape(p)), (i = document.getElementById(p)) || ((i = document.createElement(\"div\")).id = p, document.body.appendChild(i));\n      }\n\n      if (e.replaceMode || (a.el = a.el + \" .single-spa-container\"), !i.querySelector(\".single-spa-container\")) {\n        var u = document.createElement(\"div\");\n        u.className = \"single-spa-container\", i.appendChild(u);\n      }\n\n      if (r.domEl = i, a.render || a.template || !e.rootComponent || (a.render = function (n) {\n        return n(e.rootComponent);\n      }), a.data || (a.data = {}), a.data = function () {\n        return o(o({}, a.data), t);\n      }, e.createApp) {\n        if (r.vueInstance = e.createApp(a), e.handleInstance) return Promise.resolve(e.handleInstance(r.vueInstance, t)).then(function () {\n          return r.root = r.vueInstance.mount(a.el), n[t.name] = r, r.vueInstance;\n        });\n        r.root = r.vueInstance.mount(a.el);\n      } else if (r.vueInstance = new e.Vue(a), r.vueInstance.bind && (r.vueInstance = r.vueInstance.bind(r.vueInstance)), e.handleInstance) return Promise.resolve(e.handleInstance(r.vueInstance, t)).then(function () {\n        return n[t.name] = r, r.vueInstance;\n      });\n\n      return n[t.name] = r, r.vueInstance;\n    });\n  });\n}\n\nfunction s(e, n, t) {\n  return Promise.resolve().then(function () {\n    var r = n[t.name],\n        a = o(o({}, e.appOptions.data || {}), t),\n        i = r.root || r.vueInstance;\n\n    for (var p in a) i[p] = a[p];\n  });\n}\n\nfunction f(e, n, t) {\n  return Promise.resolve().then(function () {\n    var r = n[t.name];\n    e.createApp ? r.vueInstance.unmount(r.domEl) : (r.vueInstance.$destroy(), r.vueInstance.$el.innerHTML = \"\"), delete r.vueInstance, r.domEl && (r.domEl.innerHTML = \"\", delete r.domEl);\n  });\n}\n\nexport default u;","map":{"version":3,"mappings":"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","names":["root","global","module","CSS","escape","cssEscape","value","arguments","length","TypeError","codeUnit","string","String","index","result","firstCodeUnit","charCodeAt","toString","charAt","factory","defaultOpts","appOptions","template","Vue","createApp","handleInstance","singleSpaVue","userOpts","_typeof","Error","opts","el","HTMLElement","mountedInstances","bootstrap","bind","mount","unmount","update","loadRootComponent","then","rootComponent","Promise","resolve","props","instance","resolveAppOptions","domEl","domElement","document","querySelector","id","name","htmlId","getElementById","createElement","body","appendChild","replaceMode","singleSpaContainer","className","render","h","data","vueInstance","prop","$destroy","$el","innerHTML"],"sources":["../../node_modules/.pnpm/css.escape@1.5.1/node_modules/css.escape/css.escape.js","../../src/single-spa-vue.js"],"sourcesContent":["/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (typeof exports == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine([], factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, […]\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), […]\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, […]\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n","import \"css.escape\";\n\nconst defaultOpts = {\n  // required opts\n  appOptions: null,\n  template: null,\n\n  // sometimes require opts\n  Vue: null,\n  createApp: null,\n  handleInstance: null,\n};\n\nexport default function singleSpaVue(userOpts) {\n  if (typeof userOpts !== \"object\") {\n    throw new Error(`single-spa-vue requires a configuration object`);\n  }\n\n  const opts = {\n    ...defaultOpts,\n    ...userOpts,\n  };\n\n  if (!opts.Vue && !opts.createApp) {\n    throw Error(\"single-spa-vue must be passed opts.Vue or opts.createApp\");\n  }\n\n  if (!opts.appOptions) {\n    throw Error(\"single-spa-vue must be passed opts.appOptions\");\n  }\n\n  if (\n    opts.appOptions.el &&\n    typeof opts.appOptions.el !== \"string\" &&\n    !(opts.appOptions.el instanceof HTMLElement)\n  ) {\n    throw Error(\n      `single-spa-vue: appOptions.el must be a string CSS selector, an HTMLElement, or not provided at all. Was given ${typeof opts\n        .appOptions.el}`\n    );\n  }\n\n  opts.createApp = opts.createApp || (opts.Vue && opts.Vue.createApp);\n\n  // Just a shared object to store the mounted object state\n  // key - name of single-spa app, since it is unique\n  let mountedInstances = {};\n\n  return {\n    bootstrap: bootstrap.bind(null, opts, mountedInstances),\n    mount: mount.bind(null, opts, mountedInstances),\n    unmount: unmount.bind(null, opts, mountedInstances),\n    update: update.bind(null, opts, mountedInstances),\n  };\n}\n\nfunction bootstrap(opts) {\n  if (opts.loadRootComponent) {\n    return opts.loadRootComponent().then((root) => (opts.rootComponent = root));\n  } else {\n    return Promise.resolve();\n  }\n}\n\nfunction resolveAppOptions(opts, props) {\n  if (typeof opts.appOptions === \"function\") {\n    return opts.appOptions(props);\n  }\n  return Promise.resolve({ ...opts.appOptions });\n}\n\nfunction mount(opts, mountedInstances, props) {\n  const instance = {};\n  return Promise.resolve().then(() => {\n    return resolveAppOptions(opts, props).then((appOptions) => {\n      if (props.domElement && !appOptions.el) {\n        appOptions.el = props.domElement;\n      }\n\n      let domEl;\n      if (appOptions.el) {\n        if (typeof appOptions.el === \"string\") {\n          domEl = document.querySelector(appOptions.el);\n          if (!domEl) {\n            throw Error(\n              `If appOptions.el is provided to single-spa-vue, the dom element must exist in the dom. Was provided as ${appOptions.el}`\n            );\n          }\n        } else {\n          domEl = appOptions.el;\n          if (!domEl.id) {\n            domEl.id = `single-spa-application:${props.name}`;\n          }\n          appOptions.el = `#${CSS.escape(domEl.id)}`;\n        }\n      } else {\n        const htmlId = `single-spa-application:${props.name}`;\n        appOptions.el = `#${CSS.escape(htmlId)}`;\n        domEl = document.getElementById(htmlId);\n        if (!domEl) {\n          domEl = document.createElement(\"div\");\n          domEl.id = htmlId;\n          document.body.appendChild(domEl);\n        }\n      }\n\n      if (!opts.replaceMode) {\n        appOptions.el = appOptions.el + \" .single-spa-container\";\n      }\n\n      // single-spa-vue@>=2 always REPLACES the `el` instead of appending to it.\n      // We want domEl to stick around and not be replaced. So we tell Vue to mount\n      // into a container div inside of the main domEl\n      if (!domEl.querySelector(\".single-spa-container\")) {\n        const singleSpaContainer = document.createElement(\"div\");\n        singleSpaContainer.className = \"single-spa-container\";\n        domEl.appendChild(singleSpaContainer);\n      }\n\n      instance.domEl = domEl;\n\n      if (!appOptions.render && !appOptions.template && opts.rootComponent) {\n        appOptions.render = (h) => h(opts.rootComponent);\n      }\n\n      if (!appOptions.data) {\n        appOptions.data = {};\n      }\n\n      appOptions.data = () => ({ ...appOptions.data, ...props });\n\n      if (opts.createApp) {\n        instance.vueInstance = opts.createApp(appOptions);\n        if (opts.handleInstance) {\n          return Promise.resolve(\n            opts.handleInstance(instance.vueInstance, props)\n          ).then(function () {\n            instance.root = instance.vueInstance.mount(appOptions.el);\n            mountedInstances[props.name] = instance;\n\n            return instance.vueInstance;\n          });\n        } else {\n          instance.root = instance.vueInstance.mount(appOptions.el);\n        }\n      } else {\n        instance.vueInstance = new opts.Vue(appOptions);\n        if (instance.vueInstance.bind) {\n          instance.vueInstance = instance.vueInstance.bind(\n            instance.vueInstance\n          );\n        }\n        if (opts.handleInstance) {\n          return Promise.resolve(\n            opts.handleInstance(instance.vueInstance, props)\n          ).then(function () {\n            mountedInstances[props.name] = instance;\n            return instance.vueInstance;\n          });\n        }\n      }\n\n      mountedInstances[props.name] = instance;\n\n      return instance.vueInstance;\n    });\n  });\n}\n\nfunction update(opts, mountedInstances, props) {\n  return Promise.resolve().then(() => {\n    const instance = mountedInstances[props.name];\n    const data = {\n      ...(opts.appOptions.data || {}),\n      ...props,\n    };\n    const root = instance.root || instance.vueInstance;\n    for (let prop in data) {\n      root[prop] = data[prop];\n    }\n  });\n}\n\nfunction unmount(opts, mountedInstances, props) {\n  return Promise.resolve().then(() => {\n    const instance = mountedInstances[props.name];\n    if (opts.createApp) {\n      instance.vueInstance.unmount(instance.domEl);\n    } else {\n      instance.vueInstance.$destroy();\n      instance.vueInstance.$el.innerHTML = \"\";\n    }\n    delete instance.vueInstance;\n\n    if (instance.domEl) {\n      instance.domEl.innerHTML = \"\";\n      delete instance.domEl;\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"module"}